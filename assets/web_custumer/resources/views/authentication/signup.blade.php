<!DOCTYPE html>

<!--
Template Name: Metronic - Responsive Admin Dashboard Template build with Twitter Bootstrap 4 & Angular 8
Author: KeenThemes
Website: http://www.keenthemes.com/
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
Purchase: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
Renew Support: http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes
License: You must have a valid license purchased only from themeforest(the above link) in order to legally use the theme for your project.
-->
<html lang="en">

<!-- begin::Head -->

<head>

    <!--begin::Base Path (base relative path for assets of this page) -->
    <base href="../">

    <!--end::Base Path -->
    <meta charset="utf-8" />
    <title>Inscription | SesamPayx</title>
    <meta name="description" content="Latest updates and statistic charts">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!--begin::Fonts -->
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
    <script>
        WebFont.load({
            google: {
                "families": ["Poppins:300,400,500,600,700", "Asap+Condensed:500"]
            },
            active: function() {
                sessionStorage.fonts = true;
            }
        });
    </script>

    <!--begin::Page Custom Styles(used by this page) -->
    <link href="./assets/css/demo1/pages/wizard/wizard-3.css" rel="stylesheet" type="text/css" />

    <!--end::Page Custom Styles -->


    <!--end::Fonts -->
    <link href="./assets/css/demo1/pages/pricing/pricing-4.css" rel="stylesheet" type="text/css" />
    <!--begin::Page Vendors Styles(used by this page) -->
    <link href="./assets/vendors/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />

    <!--end::Page Vendors Styles -->

    <!--begin:: Global Mandatory Vendors -->
    <link href="./assets/vendors/general/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet"
        type="text/css" />

    <!--end:: Global Mandatory Vendors -->

    <!--begin:: Global Optional Vendors -->
    <link href="./assets/vendors/general/tether/dist/css/tether.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/bootstrap-datepicker/dist/css/bootstrap-datepicker3.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-datetime-picker/css/bootstrap-datetimepicker.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-timepicker/css/bootstrap-timepicker.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-select/dist/css/bootstrap-select.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/select2/dist/css/select2.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/ion-rangeslider/css/ion.rangeSlider.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/nouislider/distribute/nouislider.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/owl.carousel/dist/assets/owl.carousel.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/owl.carousel/dist/assets/owl.theme.default.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/dropzone/dist/dropzone.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/summernote/dist/summernote.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/bootstrap-markdown/css/bootstrap-markdown.min.css" rel="stylesheet"
        type="text/css" />
    <link href="./assets/vendors/general/animate.css/animate.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/toastr/build/toastr.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/morris.js/morris.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/sweetalert2/dist/sweetalert2.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/socicon/css/socicon.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/custom/vendors/line-awesome/css/line-awesome.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/custom/vendors/flaticon/flaticon.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/custom/vendors/flaticon2/flaticon.css" rel="stylesheet" type="text/css" />
    <link href="./assets/vendors/general/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet"
        type="text/css" />

    <!--end:: Global Optional Vendors -->

    <!--begin::Global Theme Styles(used by all pages) -->
    <link href="./assets/css/demo11/style.bundle.css" rel="stylesheet" type="text/css" />
    <link href="./assets/css/intlTelInput.css" rel="stylesheet" type="text/css" />

    <!--end::Global Theme Styles -->

    <!--begin::Layout Skins(used by all pages) -->

    <!--end::Layout Skins -->
    <link rel="shortcut icon" href="./assets/media/logos/logo_sesampayx.png" />
    <style>
        .iti {
            width: 100% !important;
        }

    </style>
</head>

<!-- end::Head -->

<!-- begin::Body -->

<body
    class="kt-page-content-white kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--transparent kt-aside--enabled kt-aside--fixed kt-page--loading">

    <!-- begin:: Page -->

    <!-- begin:: Header Mobile -->
    <div id="kt_header_mobile" class="kt-header-mobile  kt-header-mobile--fixed " style="background-color: #fddb2c;">
        <div class="kt-header-mobile__logo">
            <div class="kt-header__brand-logo">
                <a href="{{ route('spx.signin') }}">
                    <img alt="Logo" src="./assets/media/logos/logo_sesampayx.png" style="height: 50px" />
                </a>
            </div>
            <div class="col-lg-12">
                <span>
                    <span style="font-size: 10px;">SesamPayx</span> <br>
                    <b style="color: #000;">Inscription </b>
                </span>
            </div>
        </div>
        {{-- <div class="kt-header-mobile__toolbar"> --}}
        {{-- <button class="kt-header-mobile__toolbar-toggler kt-header-mobile__toolbar-toggler--left" id="kt_aside_mobile_toggler"><span></span></button> --}}
        {{-- <button class="kt-header-mobile__toolbar-topbar-toggler" id="kt_header_mobile_topbar_toggler"><i class="flaticon-more-1"></i></button> --}}
        {{-- </div> --}}
    </div>

    <!-- end:: Header Mobile -->
    <div class="kt-grid kt-grid--hor kt-grid--root">
        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
            <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">

                <!-- begin:: Header -->
                <div id="kt_header" class="kt-header kt-grid__item  kt-header--fixed " data-ktheader-minimize="on"
                    style="background-color: #fddb2c">
                    <div class="kt-container  kt-container--fluid ">

                        <!-- begin:: Brand -->
                        <div class="kt-header__brand " id="kt_header_brand">
                            <div class="kt-header__brand-logo">
                                <a href="{{ route('spx.signin') }}">
                                    <img alt="Logo" src="./assets/media/logos/logo_sesampayx.png"
                                        style="height: 50px" />
                                </a>
                            </div>
                            <div class="col-lg-12">
                                <span class="kt-header__topbar-username kt-visible-desktop">
                                    <span style="font-size: 10px;">SesamPayx</span> <br>
                                    <b style="color: #000;">Inscription </b>
                                </span>
                            </div>
                        </div>

                        <!-- end:: Brand -->

                        <!-- begin:: Header Topbar -->
                        <div class="kt-header__topbar">
                            <!--begin: Language bar -->
                            {{-- <div class="kt-header__topbar-item kt-header__topbar-item--langs"> --}}
                            {{-- <div class="kt-header__topbar-wrapper" data-toggle="dropdown" data-offset="10px,0px"> --}}
                            {{-- <span class="kt-header__topbar-icon"> --}}
                            {{-- <img class="" src="./assets/media/flags/019-france.svg" alt="" /> --}}
                            {{-- </span> --}}
                            {{-- </div> --}}
                            {{-- </div> --}}
                            <!--end: Language bar -->
                        </div>

                        <!-- end:: Header Topbar -->
                    </div>
                </div>

                <!-- end:: Header -->
                <div class="kt-body kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-grid--stretch"
                    id="kt_body">
                    <div class="kt-container  kt-container--fluid  kt-grid kt-grid--ver">

                        <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor"
                            id="kt_content">

                            <!-- begin:: Content -->
                            <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                                <div class="kt-portlet">
                                    <div class="kt-portlet__body kt-portlet__body--fit">
                                        <div class="kt-grid kt-wizard-v3 kt-wizard-v3--white" id="kt_wizard_v3"
                                            data-wizard-clickable="false" data-ktwizard-state="step-first">
                                            <div class="kt-grid__item">

                                                <!--begin: Form Wizard Nav -->
                                                <div class="kt-wizard-v3__nav">
                                                    <div class="kt-wizard-v3__nav-items">
                                                        <div class="kt-wizard-v3__nav-item" data-ktwizard-type="step"
                                                            data-wizard-clickable="false">
                                                            <div class="kt-wizard-v3__nav-body">
                                                                <div class="kt-wizard-v3__nav-label">
                                                                    <span>1</span> Numéro de Téléphone
                                                                </div>
                                                                <div class="kt-wizard-v3__nav-bar"></div>
                                                            </div>
                                                        </div>
                                                        <div class="kt-wizard-v3__nav-item" data-ktwizard-type="step"
                                                            data-wizard-clickable="false">
                                                            <div class="kt-wizard-v3__nav-body">
                                                                <div class="kt-wizard-v3__nav-label">
                                                                    <span>2</span> Code Secret
                                                                </div>
                                                                <div class="kt-wizard-v3__nav-bar"></div>
                                                            </div>
                                                        </div>
                                                        <div class="kt-wizard-v3__nav-item" data-ktwizard-type="step"
                                                            data-wizard-clickable="false">
                                                            <div class="kt-wizard-v3__nav-body">
                                                                <div class="kt-wizard-v3__nav-label">
                                                                    <span>3</span> Informations personnelles
                                                                </div>
                                                                <div class="kt-wizard-v3__nav-bar"></div>
                                                            </div>
                                                        </div>
                                                        <div class="kt-wizard-v3__nav-item" data-ktwizard-type="step"
                                                            data-wizard-clickable="false">
                                                            <div class="kt-wizard-v3__nav-body">
                                                                <div class="kt-wizard-v3__nav-label">
                                                                    <span>4</span> Mon Compte
                                                                </div>
                                                                <div class="kt-wizard-v3__nav-bar"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!--end: Form Wizard Nav -->
                                            </div>
                                            <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v3__wrapper">

                                                <!--begin: Form Wizard Form-->
                                                <form class="kt-form" id="kt_form" enctype="multipart/form-data"  style="padding: 0.5rem 0 5rem; width: 70%;">
                                                    @csrf

                                                    <!--begin: Form Wizard Step 1-->
                                                    <div class="kt-wizard-v3__content" data-ktwizard-type="step-content"
                                                        data-ktwizard-state="current">
                                                        <div class="kt-heading kt-heading--md">Numéro de Téléphone</div>
                                                        <div class="kt-form__section kt-form__section--first">
                                                            <div class="kt-wizard-v3__form">
                                                                <p>En entrant votre numéro de téléphone, vous approuvez
                                                                    nos condition d'utilisation</p>
                                                                <div class="form-group">
                                                                    <label>Numéro de téléphone</label>

                                                                    <div class="input-group">
                                                                        <!-- <div class="input-group-prepend"><span
                                                                             class="input-group-text"><i
                                                                                 class="la la-phone"></i>+237</span>
                                                                     </div>-->
                                                                        <input type="text" class="form-control"
                                                                            id="phone_number" name="phone_number_"
                                                                            placeholder="Entrez votre numéro de télèphone">
                                                                    </div>

                                                                    <span id="phone_number_not_valid"
                                                                        class="form-text text-muted d-none"
                                                                        style="color: #fd397a !important;">Numéro de
                                                                        téléphone incorrect</span>
                                                                    <!--<span class="form-text text-muted">Votre numéro de téléphone doit être au format
                                                                        international.</span>-->
                                                                </div>

                                                            </div>

                                                        </div>
                                                    </div>
                                                    <!--end: Form Wizard Step 1-->

                                                    <!--begin: Form Wizard Step 2-->
                                                    <div class="kt-wizard-v3__content"
                                                        data-ktwizard-type="step-content">
                                                        <div class="kt-heading kt-heading--md">Code d'authentification
                                                        </div>
                                                        <div class="kt-form__section kt-form__section--first">
                                                            <div class="kt-wizard-v3__form">
                                                                <p>Un message contenant le code secret a été envoyé au
                                                                    numero <span id="phone_number_sample"></span>. Veuillez le renseigner afin de
                                                                    continuer l'ouverture de votre compte. Durée de validité du code : <span id="count_down_timer" style="color:#ff0000">10 minutes</span>.</p>
                                                                <div class="form-group">
                                                                    <input type="text" class="form-control" id="code"
                                                                        name="code"
                                                                        placeholder="Code d'authentification">
                                                                </div>
                                                                <p>Vous n'avez pas reçu de code ? <span id="resend_sms_desc">vous pourrez le renvoyer dans </span><span id="resend_sms_time" style="color:#1e90ff">1 minute</span>.</p>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!--end: Form Wizard Step 2-->

                                                    <!--begin: Form Wizard Step 3-->
                                                    <div class="kt-wizard-v3__content"
                                                        data-ktwizard-type="step-content">
                                                        <div class="kt-heading kt-heading--md">Informations personnelles
                                                        </div>
                                                        <div class="kt-form__section kt-form__section--first">
                                                            <div class="kt-wizard-v3__form">
                                                                <p>Veuillez renseigner vos inforamtions personnelles</p>

                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Nom</label>
                                                                            <input type="text" class="form-control"
                                                                                name="firstname"
                                                                                placeholder="Veuillez renseigner votre de nom">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Prénom</label>
                                                                            <input type="text" class="form-control"
                                                                                name="lastname"
                                                                                placeholder="Veuillez renseigner votre prénom">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Adresse mail</label>
                                                                            <input type="text" class="form-control"
                                                                                name="email"
                                                                                placeholder="Veuillez renseigner votre adresse mail">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>vous êtes</label>
                                                                            <select id="gender" name="gender"
                                                                                class="form-control">
                                                                                <option value="">Veuillez selectionner
                                                                                    votre genre</option>
                                                                                <option value="MASCULIN">un Homme
                                                                                </option>
                                                                                <option value="FEMININ">une Femme
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Votre date de naissance</label>
                                                                            <input id="birthdate" type="date"
                                                                                class="form-control" name="birthdate"
                                                                                placeholder="Veuillez renseigner votre date de naissance">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Mot de passe</label>
                                                                            <input id="password" type="password"
                                                                                class="form-control" name="password"
                                                                                placeholder="Veuillez renseigner votre mot de passe">
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Confirmation du mot de passe</label>
                                                                            <input type="password"
                                                                                class="form-control"
                                                                                name="confirm_password"
                                                                                placeholder="Veuillez confirmer votre mot de passe">
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="kt-heading kt-heading--md">Questions secrète</div>
                                                        <div class="kt-form__section kt-form__section--first">
                                                            <div class="kt-wizard-v3__form">
                                                                <p>Les question secretes sont là pour vous aider à
                                                                    restaurer votre mot de passe en cas d'oubli</p>
                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Question secrète 1</label>
                                                                            <select id="question_one"
                                                                                name="question_one"
                                                                                class="form-control">
                                                                                <option value="">Veuillez selectionner
                                                                                    question secrete</option>
                                                                            </select>
                                                                            <label>Reponse</label>
                                                                            <input type="text" class="form-control"
                                                                                name="answer_one"
                                                                                placeholder="Reponse à la question secrète" />
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Question secrete 2</label>
                                                                            <select id="question_two"
                                                                                name="question_two"
                                                                                class="form-control">
                                                                                <option value="">Veuillez selectionner
                                                                                    question secrete</option>
                                                                            </select>
                                                                            <label>Reponse</label>
                                                                            <input type="text" class="form-control"
                                                                                name="answer_two"
                                                                                placeholder="Reponse à la question secrète" />
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <!--end: Form Wizard Step 3-->

                                                    <!--begin: Form Wizard Step 4-->
                                                    <div class="kt-wizard-v3__content"
                                                        data-ktwizard-type="step-content" style="padding-bottom: 0px;">
                                                        <div class="kt-heading kt-heading--md">Votre compte </div>
                                                        <div class="kt-form__section kt-form__section--first">
                                                            <div class="kt-wizard-v3__form">

                                                                <div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <label>Type de compte de Privilèges</label>
                                                                            <select id="ben_acc" name="ben_acc"
                                                                                class="form-control">
                                                                                <option value="">Veuillez selectionner
                                                                                    votre type de compte de Privilèges
                                                                                </option>
                                                                            </select>
                                                                            <div style="border:1px solid #52363685;border-style: dotted;height:20px margin-top:5px;">
                                                                                <span id="souscription_number">Souscription tous les 12 mois</span><br/>
                                                                                <span style="font-size:large;color:#1e90ff ; display:none;"  id="infovisa"><b>+ UNE CARTE VISA OFFERTE</b></span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <h6 class="mb-4">Comment souhaitez-vous vous identifier ?</h6>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="cni_radio" style="width:30px; display:inline" value="CNI" checked><label for="cni_radio">Carte nationale d'identité</label>
                                                                            </div>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="recepice_radio" style="width:30px; display:inline" value="RECEIPT"><label for="recepice_radio">Recépicé</label>
                                                                            </div>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="passeport_radio" style="width:30px; display:inline" value="PASSEPORT"><label for="passeport_radio">Passeport</label>
                                                                            </div>
                                                                            <div class="mt-4">
                                                                                <label id="id_number">N° de la CNI</label>
                                                                                <input type="text" class="form-control" id="cni_number" name="cni_number" placeholder="Veuillez renseigner le numéro de la piece">
                                                                                <span class="form-text text-muted">Veuillez entrer le numéro de votre <span id="id_type">CNI</span>.</span>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div id="cni_files" class="dropzone col">
                                                                                <div class="dz-message" data-dz-message><span>Telecharger le recto votre CNI</span></div>
                                                                            </div>
                                                                            <div id="cni_files1" class="dropzone col">
                                                                                <div class="dz-message" data-dz-message><span>Telecharger  le verso de votre CNI</span></div>
                                                                            </div>
                                                                            <div id="recepice_files" class="dropzone col" style="display: none;">
                                                                                <div class="dz-message" data-dz-message><span>Telecharger une photo de votre recepisse</span></div>
                                                                            </div>
                                                                            <div id="passeport_files" class="dropzone col" style="display:none;">
                                                                                <div class="dz-message" data-dz-message><span>Telecharger une image de la première page du passeport</span></div>
                                                                            </div>
                                                                        </div>
                                                                        <input type="hidden" id="cni_recto_id" name="cni_recto">
                                                                        <input type="hidden" id="cni_verso_id" name="cni_verso">
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div style="height: 100%;" id="benacc_image_illustration" style="display: none;">
                                                                            <img src="" class="img-fluid" alt="Responsive image" id="img" alt="Aucune image disponible">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!--div class="row">
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <h6 class="mb-4">Comment souhaitez-vous vous identifier ?</h6>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="cni_radio" style="width:30px; display:inline" checked><label for="cni_radio">Carte nationale d'identité</label>
                                                                            </div>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="recepice_radio" style="width:30px; display:inline"><label for="recepice_radio">Recépicé</label>
                                                                            </div>
                                                                            <div>
                                                                                <input type="radio" name="id_type" id="passeport_radio" style="width:30px; display:inline"><label for="passeport_radio">Passeport</label>
                                                                            </div>
                                                                            <div class="mt-4">
                                                                                <label id="id_number">N° de la CNI</label>
                                                                                <input type="text" class="form-control" id="cni_number" name="cni_number" placeholder="Veuillez renseigner votre n° de CNI">
                                                                                <input type="text" class="d-none" id="recepice_number" name="recepice_number" placeholder="Veuillez renseigner votre n° de recépicé">
                                                                                <input type="text" class="d-none" id="passeport_number" name="passeport_number" placeholder="Veuillez renseigner votre n° de passeport">
                                                                                <span class="form-text text-muted">Veuillez entrer le numéro de votre <span id="id_type">CNI</span>.</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-xl-6">
                                                                        <div class="form-group">
                                                                            <div id="cni_files">
                                                                                <label for="cni_recto">Recto de la CNI</label>
                                                                                <input type="file" id="cni_recto" name="cni_recto" class="form-control-file" accept="image/png, image/gif, image/jpeg">
                                                                                <label for="cni_verso" class="mt-3">Verso de la CNI</label>
                                                                                <input type="file" id="cni_verso" name="cni_verso" class="form-control-file" accept="image/png, image/gif, image/jpeg">
                                                                            </div>
                                                                            <div id="recepice_files" class="d-none">
                                                                                <label for="recepice_img">Image du recépicé</label>
                                                                                <input type="file" id="recepice_img" name="recepice_img" class="form-control-file" accept="image/png, image/gif, image/jpeg">
                                                                            </div>
                                                                            <div id="passeport_files" class="d-none">
                                                                                <label for="passeport_img">Image du passeport</label>
                                                                                <input type="file" id="passeport_img" name="passeport_img" class="form-control-file" accept="image/png, image/gif, image/jpeg">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div-->
                                                                <script>
                                                                let cni_radio           = document.getElementById("cni_radio");
                                                                let recepice_radio      = document.getElementById("recepice_radio");
                                                                let passeport_radio     = document.getElementById("passeport_radio");

                                                                let cni_files           = document.getElementById("cni_files");
                                                                let cni_files1          = document.getElementById("cni_files1");
                                                                let recepice_files      = document.getElementById("recepice_files");
                                                                let passeport_files     = document.getElementById("passeport_files");


                                                                let input_label         = document.getElementById("id_number");
                                                                let id_type             = document.getElementById("id_type");

                                                                cni_radio.addEventListener("click", () => {
                                                                    cni_files.style.display      = "";
                                                                    cni_files1.style.display      = "";
                                                                    recepice_files.style.display = "none";
                                                                    passeport_files.style.display = "none";
                                                                    input_label.innerHTML       = "N° de la CNI";
                                                                    id_type.innerHTML           = "CNI";
                                                                });
                                                                recepice_radio.addEventListener("click", () => {
                                                                    cni_files.style.display = "none";
                                                                    cni_files1.style.display = "none";
                                                                    recepice_files.style.display    = "";
                                                                    passeport_files.style.display = "none";
                                                                    input_label.innerHTML       = "N° du recépicé";
                                                                    id_type.innerHTML           = "recépicé";
                                                                });
                                                                passeport_radio.addEventListener("click", () => {
                                                                    cni_files.style.display = "none";
                                                                    cni_files1.style.display = "none";
                                                                    recepice_files.style.display = "none";
                                                                    passeport_files.style.display   = "";
                                                                    input_label.innerHTML       = "N° du passeport";
                                                                    id_type.innerHTML           = "passeport";
                                                                });
                                                                </script>

                                                            </div>
                                                        </div>
                                                    </div>

                                                    <!--end: Form Wizard Step 4-->


                                                    <!--begin: Form Actions -->
                                                    <div class="kt-form__actions">
                                                        <div class="btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u d-none"
                                                            data-ktwizard-type="action-prev" id="btn_prev">
                                                            Précédent
                                                        </div>
                                                        <div id="btn_validate"
                                                            class="btn btn-success btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u"
                                                            data-ktwizard-type="action-submit">
                                                            Valider
                                                        </div>
                                                        <!--                                                    <div style="display:none;" class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" data-ktwizard-type="action-next">-->
                                                        <!--                                                        Suivant-->
                                                        <!--                                                    </div>-->
                                                        <div id="btn_next"
                                                            class="btn btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u">
                                                            Suivant
                                                        </div>

                                                    </div>

                                                    <!--end: Form Actions -->
                                                </form>

                                                <!--end: Form Wizard Form-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- end:: Content -->


                        </div>


                    </div>
                </div>

                <!-- begin:: Footer -->
                <div class="kt-footer kt-grid__item" id="kt_footer" style="background-color: #000000">
                    <div class="kt-container  kt-container--fluid ">
                        <div class="kt-footer__wrapper">
                            <div class="kt-footer__copyright">
                                2020&nbsp;&copy;&nbsp;<a href="https://sesamefinance.com/" target="_blank"
                                    class="kt-link">Sesame Financial Services</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- end:: Footer -->
            </div>
        </div>
    </div>

    <!-- end:: Page -->


    <!-- begin::Scrolltop -->
    <div id="kt_scrolltop" class="kt-scrolltop">
        <i class="fa fa-arrow-up"></i>
    </div>

    <!-- end::Scrolltop -->

    <!-- begin::Global Config(global config for global JS sciprts) -->
    <script>
        var KTAppOptions = {
            "colors": {
                "state": {
                    "brand": "#5d78ff",
                    "light": "#ffffff",
                    "dark": "#282a3c",
                    "primary": "#5867dd",
                    "success": "#34bfa3",
                    "info": "#36a3f7",
                    "warning": "#ffb822",
                    "danger": "#fd3995"
                },
                "base": {
                    "label": ["#c5cbe3", "#a1a8c3", "#3d4465", "#3e4466"],
                    "shape": ["#f0f3ff", "#d9dffa", "#afb4d4", "#646c9a"]
                }
            }
        };
    </script>

    <!-- end::Global Config -->

    <!--begin:: Global Mandatory Vendors -->
    <script src="./assets/vendors/general/jquery/dist/jquery.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/popper.js/dist/umd/popper.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/js-cookie/src/js.cookie.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/moment/min/moment.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/tooltip.js/dist/umd/tooltip.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/perfect-scrollbar/dist/perfect-scrollbar.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/sticky-js/dist/sticky.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/wnumb/wNumb.js" type="text/javascript"></script>

    <!--end:: Global Mandatory Vendors -->

    <!--begin:: Global Optional Vendors -->
    <script src="./assets/vendors/general/jquery-form/dist/jquery.form.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/block-ui/jquery.blockUI.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js" type="text/javascript">
    </script>
    <script src="./assets/vendors/custom/js/vendors/bootstrap-datepicker.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-datetime-picker/js/bootstrap-datetimepicker.min.js"
        type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-timepicker/js/bootstrap-timepicker.min.js" type="text/javascript">
    </script>
    <script src="./assets/vendors/custom/js/vendors/bootstrap-timepicker.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.js" type="text/javascript">
    </script>
    <script src="./assets/vendors/general/bootstrap-maxlength/src/bootstrap-maxlength.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/vendors/bootstrap-multiselectsplitter/bootstrap-multiselectsplitter.min.js"
        type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-select/dist/js/bootstrap-select.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-switch/dist/js/bootstrap-switch.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/js/vendors/bootstrap-switch.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/select2/dist/js/select2.full.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/ion-rangeslider/js/ion.rangeSlider.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/typeahead.js/dist/typeahead.bundle.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/handlebars/dist/handlebars.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/inputmask/dist/jquery.inputmask.bundle.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/inputmask/dist/inputmask/inputmask.date.extensions.js" type="text/javascript">
    </script>
    <script src="./assets/vendors/general/inputmask/dist/inputmask/inputmask.numeric.extensions.js" type="text/javascript">
    </script>
    <script src="./assets/vendors/general/nouislider/distribute/nouislider.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/owl.carousel/dist/owl.carousel.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/autosize/dist/autosize.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/clipboard/dist/clipboard.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/dropzone/dist/dropzone.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/summernote/dist/summernote.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/markdown/lib/markdown.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-markdown/js/bootstrap-markdown.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/js/vendors/bootstrap-markdown.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/bootstrap-notify/bootstrap-notify.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/js/vendors/bootstrap-notify.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/jquery-validation/dist/jquery.validate.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/jquery-validation/dist/additional-methods.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/js/vendors/jquery-validation.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/toastr/build/toastr.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/raphael/raphael.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/morris.js/morris.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/chart.js/dist/Chart.bundle.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/vendors/bootstrap-session-timeout/dist/bootstrap-session-timeout.min.js"
        type="text/javascript"></script>
    <script src="./assets/vendors/custom/vendors/jquery-idletimer/idle-timer.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/waypoints/lib/jquery.waypoints.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/counterup/jquery.counterup.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/es6-promise-polyfill/promise.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/sweetalert2/dist/sweetalert2.min.js" type="text/javascript"></script>
    <script src="./assets/vendors/custom/js/vendors/sweetalert2.init.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/jquery.repeater/src/lib.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/jquery.repeater/src/jquery.input.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/jquery.repeater/src/repeater.js" type="text/javascript"></script>
    <script src="./assets/vendors/general/dompurify/dist/purify.js" type="text/javascript"></script>

    <!--end:: Global Optional Vendors -->

    <!--begin::Global Theme Bundle(used by all pages) -->
    <script src="./assets/js/demo11/scripts.bundle.js" type="text/javascript"></script>
    <script src="./assets/js/intlTelInput-jquery.min.js" type="text/javascript"></script>
    <script src="./assets/js/intlTelInput.js" type="text/javascript"></script>

    <!--end::Global Theme Bundle -->

    <!--begin::Page Vendors(used by this page) -->
    <script src="./assets/vendors/custom/fullcalendar/fullcalendar.bundle.js" type="text/javascript"></script>
    <script src="//maps.google.com/maps/api/js?key=AIzaSyBTGnKT7dt597vo9QgeQ7BFhvSRP4eiMSM" type="text/javascript"></script>
    <script src="./assets/vendors/custom/gmaps/gmaps.js" type="text/javascript"></script>

    <!--end::Page Vendors -->

    <!--begin::Page Scripts(used by this page) -->
    <!--begin::Page Scripts(used by this page) -->
    <script src="./assets/js/demo1/pages/wizard/wizard-3.js" type="text/javascript"></script>
    <script src="//rum-static.pingdom.net/pa-60a8ed73541c6000110000b0.js" async></script>
    @include("layout.script")
    <script>
        // Class definition

        var wizard;
        var phone_number;
        var usernameForImage;
        var code;
        var next_button = $('#btn_next');
        var wizardObject;
        var wizardstate = false;
        var imageSrc = "{{asset('tuto')}}";
        var customerCanIntializeCardRequest = false;

        var KTWizard3 = function() {
            // Base elements
            var wizardEl;
            var formEl;

            // Private functions
            var initWizard = function() {
                // Initialize form wizard
                wizard = new KTWizard('kt_wizard_v3', {
                    startStep: 1,
                    clickableSteps: false
                });

                // Validation before going to next page
                wizard.on('beforeNext', function(wizardObj) {
                    wizardObject = wizardObj;
                });

                wizard.on('beforePrev', function(wizardObj) {
                    /*if (validator.form() !== true) {
                        wizardObj.stop(); // don't go to the next step
                    }*/
                });

                // Change event
                wizard.on('change', function(wizard) {
                    KTUtil.scrollTop();
                    if (wizard.isLastStep()) {
                        next_button.hide();
                    } else {
                        next_button.show();
                    }
                });

            }

            var initValidation = function() {
                validator = formEl.validate({
                    // Validate only visible fields
                    ignore: ":hidden",

                    // Validation rules
                    rules: {
                        //= Step 1
                        phone_number: {
                            required: true
                        },

                        //= Step 2
                        code: {
                            required: true
                        },

                        //= Step 3
                        firstname: {
                            required: true
                        },
                        lastname: {
                            required: true
                        },
                        email: {
                            required: true,
                            email: true
                        },
                        birthdate: {
                            required: true
                        },
                        gender: {
                            required: true
                        },
                        password: {
                            required: true
                        },
                        confirm_password: {
                            required: true,
                            equalTo: "#password"
                        },
                        question_one: {
                            required: true
                        },
                        answer_one: {
                            required: true
                        },
                        question_two: {
                            required: true
                        },
                        answer_two: {
                            required: true
                        },

                        //= Step 4
                        ben_acc: {
                            required: true
                        },
                        cni_number: {
                            required: true
                        }
                    },
                    messages: {
                        phone_number: {
                            required: "Ce champ est requis",
                            minlength: "Vous devez entrer un numéro à 9 chiffres",
                            maxlength: "Vous devez entrer un numéro à 9 chiffres"
                        }, //= Step 2
                        code: {
                            required: "Ce champ est requis",
                        },

                        //= Step 3
                        firstname: {
                            required: "Ce champ est requis"
                        },
                        lastname: {
                            required: "Ce champ est requis"
                        },
                        email: {
                            required: "Ce champ est requis",
                            email: "Ce champ doit contenir une adresse mail valide"
                        },
                        birthdate: {
                            required: "Ce champ est requis"
                        },
                        gender: {
                            required: "Ce champ est requis"
                        },
                        password: {
                            required: "Ce champ est requis"
                        },
                        confirm_password: {
                            required: "Ce champ est requis",
                            equalTo: "Les mot de passe ne correspondent pas"
                        },
                        question_one: {
                            required: "Ce champ est requis"
                        },
                        answer_one: {
                            required: "Ce champ est requis"
                        },
                        question_two: {
                            required: "Ce champ est requis"
                        },
                        answer_two: {
                            required: "Ce champ est requis"
                        },

                        ben_acc: {
                            required: "Ce champ est requis"
                        },
                        cni_number: {
                            //required: "Ce champ est requis"
                        },
                    },

                    // Display errors
                    invalidHandler: function(event, validator) {
                        KTUtil.scrollTop();

                        swal.fire({
                            "title": "",
                            "text": "Une erreur est survenue lors de la validation de certains champs",
                            "type": "error",
                            "confirmButtonClass": "btn btn-secondary"
                        });
                    },

                    // Submit valid form
                    submitHandler: function(form) {
                        // $('#btn_validate').addClass('kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr('disabled', true);
                        // formSubmit(form);
                    }
                });
            }

            var initSubmit = function() {
                var btn = formEl.find('[data-ktwizard-type="action-submit"]');

                btn.unbind().click(function(e) {
                    e.preventDefault();
                    loader("#kt_form");
                    KTApp.progress(btn);
                    formSubmit(formEl, btn);
                });
            }

            return {
                // public functions
                init: function() {
                    wizardEl = KTUtil.get('kt_wizard_v3');
                    formEl = $('#kt_form');

                    initWizard();
                    initValidation();
                    initSubmit();
                }
            };
        }();
        Dropzone.autoDiscover = false;
        jQuery(document).ready(function() {
            KTWizard3.init();
            $("#cni_files").dropzone(

                {
                    url: "{{spx_format_image_url('api/tools/save/media/web/signup')}}",
                    init: function() {
                        this.on("sending", function(file, xhr, formData) {
                            formData.append("_token", "{{ csrf_token() }}");
                            formData.append('file_name', usernameForImage);
                        });
                        this.on("success", function(file, responseText) {
                            console.log(responseText);
                            $("#cni_recto_id").val(responseText.image_url);
                        });
                    },
                    //autoProcessQueue:false,
                    maxFiles:1,
                    paramName:"id_card_recto",
                    addRemoveLinks:true,
                    acceptedFiles: ".jpeg,.jpg,.png,.gif",
                }
            );
            $("#cni_files1").dropzone(

                {
                    url: "{{spx_format_image_url('api/tools/save/media/web/signup')}}",
                    init: function() {
                        this.on("sending", function(file, xhr, formData) {
                            formData.append("_token", "{{ csrf_token() }}");
                            formData.append('file_name', usernameForImage);
                        });
                        this.on("success", function(file, responseText) {
                            console.log(responseText);
                            $("#cni_verso_id").val(responseText.image_url);
                        });

                    },
                    //autoProcessQueue:false,
                    maxFiles:1,
                    paramName:"id_card_verso",
                    addRemoveLinks:true,
                    acceptedFiles: ".jpeg,.jpg,.png,.gif",
                }
            );

            $("#recepice_files").dropzone(

                {
                    url: "{{spx_format_image_url('api/tools/save/media/web/signup')}}",
                    init: function() {
                        this.on("sending", function(file, xhr, formData) {
                            formData.append("_token", "{{ csrf_token() }}");
                            formData.append('file_name', usernameForImage);
                        });
                        this.on("success", function(file, responseText) {
                            console.log(responseText);
                            $("#cni_recto_id").val(responseText.image_url);
                        });

                    },
                    //autoProcessQueue:false,
                    maxFiles:2,
                    paramName:"receipt",
                    addRemoveLinks:true,
                    acceptedFiles: ".jpeg,.jpg,.png,.gif",
                }
            );
            $("#passeport_files").dropzone(

                {
                    url: "{{spx_format_image_url('api/tools/save/media/web/signup')}}",
                    init: function() {
                        this.on("sending", function(file, xhr, formData) {
                            formData.append("_token", "{{ csrf_token() }}");
                            formData.append('file_name', usernameForImage);
                        });
                        this.on("success", function(file, responseText) {
                            console.log(responseText);
                            $("#cni_recto_id").val(responseText.image_url);
                        });

                    },
                    //autoProcessQueue:false,
                    maxFiles:2,
                    paramName:"passeport",
                    addRemoveLinks:true,
                    acceptedFiles: ".jpeg,.jpg,.png,.gif",
                }
            );
            //imageSrc = $("#img").attr("src");
            next_button.unbind().click(function() {

                $("#phone_number_not_valid").addClass("d-none")

                if (wizard.getStep() === 1) {
                    if (getPhoneNumberInternational().isValid) {
                        loader("#kt_form");
                        $('#btn_next').addClass(
                                'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light')
                            .attr('disabled', true);
                        stepOneValidate(wizard, getPhoneNumberInternational().number)
                    } else {
                        $("#phone_number_not_valid").removeClass("d-none")
                    }
                } else if (wizard.getStep() === 2) {

                    if (getPhoneNumberInternational().isValid) {
                        loader("#kt_form");
                        $('#btn_next').addClass(
                                'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light')
                            .attr('disabled', true);
                        code = $('#code').val();
                        stepTwoValidate(wizard, getPhoneNumberInternational(), code)
                    } else {
                        $("#phone_number_not_valid").removeClass("d-none")
                    }
                } else {
                    if (validator.form() === true) {
                        wizard.goNext();
                    }
                }
            })

            getCountry("{{ $country_code }}")

            $("#ben_acc").change(function(e){
                //let price = parseInt($('option:selected', this).attr('price'));

                loader("#benacc_image_illustration");
                $("#img").attr("src", imageSrc+"/"+$('option:selected', this).attr('data-ref')+".png");
                unloader("#benacc_image_illustration");
                $("#infovisa").hide();
                switch($('option:selected', this).attr('data-ref')){
                    case "SPX-BA-PLATINUM":
                        customerCanIntializeCardRequest ?? $("#infovisa").show();
                        $("#benacc_image_illustration").show();
                        $("#souscription_number").html("souscription tous les 12 mois")
                        break;
                    case "SPX-BA-IVORY":
                        customerCanIntializeCardRequest ?? $("#infovisa").show();
                        $("#benacc_image_illustration").show();
                        $("#souscription_number").html("souscription tous les 12 mois")
                        break;
                    case "SPX-BA-LIGHT":
                        $("#benacc_image_illustration").show();
                        $("#souscription_number").html("souscription chaque 1 mois")
                        break;
                    case "SPX-BA-SOLO":
                        $("#benacc_image_illustration").show();
                        $("#souscription_number").html("souscription tous les 1 jour")
                        break;
                    default:
                        $("#benacc_image_illustration").hide();
                }
                /*if($('option:selected', this).attr('data-ref')==="SPX-BA-PLATINUM" || $('option:selected', this).attr('data-ref')==="SPX-BA-IVORY"){
                    $("#infovisa").show();
                }else{
                    $("#infovisa").hide();
                }*/

            });
        });

        function stepOneValidate(wizardObj, phone_number) {

            if (validator.form() !== true) {
                unloader("#kt_form");
                $('#btn_next').removeClass('kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr('disabled',
                    false);

            } else {

                //display part of the user phone_number
                let user_phone_sample = document.getElementById("phone_number_sample");
                let nber_chars = phone_number.length;
                let hidden_number = phone_number.substr(nber_chars-4);
                let hidden_dots = "";

                for (let i=0; i<nber_chars-4; i++) {
                    hidden_dots += "*";
                }

                user_phone_sample.innerHTML = hidden_dots+hidden_number;

                //time elapse for the validity of auth code
                let time_valid_minutes = 10; // Value in minutes
                let time_valid_seconds = 0; // Value in seconds count_down_timer
                let time_sms_minutes = 2;
                let time_sms_seconds = 0;

                let valid_duration = time_valid_minutes * 60 + time_valid_seconds;
                let sms_duration = time_sms_minutes * 60 + time_sms_seconds;

                count_down_timer = document.getElementById('count_down_timer');
                resend_sms_time = document.getElementById('resend_sms_time');

                function paddedFormat(num) {
                    return num < 10 ? "0" + num : num;
                }
                count_down_timer.innerHTML = `${paddedFormat(time_valid_minutes)}:${paddedFormat(time_valid_seconds)}`;

                startValidCountDown(--valid_duration, count_down_timer);

                function startValidCountDown(valid_duration, count_down_timer) {
                    let secondsRemaining = valid_duration;
                    let min = 0;
                    let sec = 0;

                    let countInterval = setInterval(function () {

                        min = parseInt(secondsRemaining / 60);
                        sec = parseInt(secondsRemaining % 60);

                        count_down_timer.innerHTML = `${paddedFormat(min)} min ${paddedFormat(sec)} sec`;

                        secondsRemaining = secondsRemaining - 1;
                        if (secondsRemaining < 0) { clearInterval(countInterval) };

                    }, 1000);
                }

                startSmsCountDown(--sms_duration, resend_sms_time);

                function startSmsCountDown(valid_duration, resend_sms_time) {
                    let secondsRemaining = valid_duration;
                    let min = 0;
                    let sec = 0;

                    let countInterval = setInterval(function () {

                        min = parseInt(secondsRemaining / 60);
                        sec = parseInt(secondsRemaining % 60);

                        resend_sms_time.innerHTML = `${paddedFormat(min)} min ${paddedFormat(sec)} sec`;

                        secondsRemaining = secondsRemaining - 1;
                        if (secondsRemaining < 0) {
                            clearInterval(countInterval);
                            resend_sms_time.innerHTML = " <a href='javascript:void(0)' onclick='resendAuthCode()'>Cliquez sur le bouton 'Précédent' et relancez la procédure.</a>";
                            resend_sms_desc.innerHTML = "";
                            document.getElementById('btn_prev').className = "btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u";
                        };

                    }, 1000);
                }

                $.ajax({
                    url: "{{ route('spx.signup.genauthcode') }}",
                    method: 'POST',
                    dataType: "JSON",
                    async: true,
                    data: JSON.stringify({
                        "_token": "{{ csrf_token() }}",
                        phone_number: phone_number
                    }),
                    contentType: "application/json",
                    cache: false,
                    processData: false,
                    success: function(response, status) { // success est toujours en place, bien sûr !
                        unloader("#kt_form");
                        $('#btn_next').removeClass(
                            'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr(
                            'disabled', false);
                        if (response.status === 1) {
                            customerCanIntializeCardRequest = response.canInitializeCardRequest;
                            if(customerCanIntializeCardRequest) imageSrc = "{{asset('tuto_visa')}}";
                            usernameForImage = phone_number;
                            wizardObj.goNext();
                        } else {
                            swal.fire({
                                "title": response.err_title,
                                "text": response.err_msg + ". Code d'erreur " + response.err_code,
                                "type": "error",
                                "confirmButtonClass": "btn btn-secondary",
                            });
                        }
                    },
                    error: function(error) {
                        unloader("#kt_form");
                        $('#btn_next').removeClass(
                            'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr(
                            'disabled', false);
                        swal.fire({
                            "title": "Erreur interne",
                            "text": "Une erreur est survenue dans le serveur",
                            "type": "error",
                            "confirmButtonClass": "btn btn-secondary",
                        });
                    }

                });
            }
        }

        function stepTwoValidate(wizardObj, phone_number, code) {

            document.getElementById('btn_prev').className = "btn btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u";
            if (validator.form() !== true) {
                unloader("#kt_form");
                $('#btn_next').removeClass('kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr('disabled',
                    false);

            } else {
                $.ajax({
                    url: "{{ route('spx.signup.valauthcode') }}",
                    method: 'POST',
                    dataType: "JSON",
                    async: true,
                    data: JSON.stringify({
                        "_token": "{{ csrf_token() }}",
                        phone_number: phone_number,
                        code: code
                    }),
                    contentType: "application/json",
                    cache: false,
                    processData: false,
                    success: function(response, status) { // success est toujours en place, bien sûr !
                        unloader("#kt_form");
                        $('#btn_next').removeClass(
                            'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr(
                            'disabled', false);
                        //alert(JSON.stringify(response));
                        if (response.status === 1) {
                            let questions_one = response.datas.questions[0].questions;
                            let questions_two = response.datas.questions[1].questions;
                            let ben_accs = response.datas.ben_accounts;

                            questions_one.forEach(function(question, index) {
                                $('#question_one').append('<option value="' + question.id_question +
                                    '">' + question.question + '</option>')
                            })
                            questions_two.forEach(function(question, index) {
                                $('#question_two').append('<option value="' + question.id_question +
                                    '">' + question.question + '</option>')
                            })
                            ben_accs.forEach(function(ben_acc, index) {
                                $('#ben_acc').append('<option value="' + ben_acc.id + '" data-ref="'+ben_acc.reference+'">' + ben_acc
                                    .denomination + '</option>')
                            })
                            wizardObj.goNext();
                        } else {
                            swal.fire({
                                "title": response.err_title,
                                "text": response.err_msg + ". Code d'erreur " + response.err_code,
                                "type": "error",
                                "confirmButtonClass": "btn btn-secondary",
                            });
                        }
                    },
                    error: function(error) {
                        unloader("#kt_form");
                        $('#btn_next').removeClass(
                            'kt-spinner kt-spinner--right kt-spinner--sm kt-spinner--light').attr(
                            'disabled', false);
                        swal.fire({
                            "title": "Erreur interne",
                            "text": "Une erreur est survenue dans le serveur",
                            "type": "error",
                            "confirmButtonClass": "btn btn-secondary",
                        });
                    }

                });
            }
        }

        function formSubmit(form, btn) {

            if (validator.form() !== true) {
                KTApp.unprogress(btn);
                unloader("#kt_form");

            } else {
                form.ajaxSubmit({
                    url: "{{ route('spx.signup.validate') }}",
                    method: "POST",
                    data: {
                        phone_number: getPhoneNumberInternational().number
                    },
                    success: function(response, status, xhr, $form) {
                        unloader("#kt_form");
                        KTApp.unprogress(btn);
                        //alert(JSON.stringify(response));
                        if (response.status === 1) {
                            window.location.href = "{{ route('spx.home') }}";
                        } else {
                            swal.fire({
                                "title": response.err_title,
                                "text": response.err_msg + ". Code d'erreur " + response.err_code,
                                "type": "error",
                                "confirmButtonClass": "btn btn-secondary",
                            });
                        }

                    },
                    error: function(error) {
                        unloader("#kt_form");
                        KTApp.unprogress(btn);
                        swal.fire({
                            "title": "Erreur interne",
                            "text": "Une erreur est survenue dans le serveur",
                            "type": "error",
                            "confirmButtonClass": "btn btn-secondary",
                        });
                    }
                });
            }
        }
    </script>

    <!--end::Page Scripts -->
</body>

<!-- end::Body -->

</html>
